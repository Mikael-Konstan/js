<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>event</title>
  </head>

  <body οnunlοad="checkLeave()"></body>
</html>
<script>
  window.onunload = function () {
    alert('欢迎下次再来!')
  }
  function checkLeave() {
    alert('欢迎下次再来！')
  }
//   window.onbeforeunload = function () {
//     alert('test onbeforeunload')
//   }
//   window.addEventListener('beforeunload', function (event) {
//     event.returnValue = '我在这写点东西...'
//   })
  function addOnBeforeUnload(e) {
 	var ev = e 
 	ev && (ev.returnValue = 'test onbeforeunload');
 }

 if(window.attachEvent){
 	window.attachEvent('onbeforeunload', addOnBeforeUnload);
 } else {
 	window.addEventListener('beforeunload', addOnBeforeUnload, false);
 }
</script>
